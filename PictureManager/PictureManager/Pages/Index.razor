@page "/"
@using PictureManager.Pages.Components;
@using Common.Utility;
@inject NavigationManager navigationManager

<h1>Hello, Master!</h1>

Welcome to your world.

<SurveyPrompt Title="This is my picture library, please feel free to visit" />
<PagingComponent Page="@_page" PageSize="@_pageSize" Count="@_count" HrefString="#"  />

@code{
    [Parameter]
    public int _page { get; set; } = 1;
    private int _pageSize = 10;
    private int _count = 0;
    //private int _pages = 0;

    protected override async Task OnInitializedAsync()
    {
        this._count = 100;
        if (!string.IsNullOrEmpty(navigationManager.QueryString("page")))
        {
            this._page = int.Parse(navigationManager.QueryString("page"));
        }
    }

    private async Task Test()
    {
        if (!string.IsNullOrEmpty(navigationManager.QueryString("page")))
        {
            this._page = int.Parse(navigationManager.QueryString("page"));
        }
    }
}
